#include "catch2/catch2.hpp"
#include "sudoku/sudoku.hpp"

TEST_CASE("Simple sudoku", "[simple]")
{
    // clang-format off
    std::vector<std::initializer_list<u8>> values = {
        {
            0,0,8,     0,6,1,      0,0,7,
            1,5,0,     4,7,9,      6,0,3,
            0,0,0,     5,2,8,      0,0,0,

            8,0,0,     0,0,0,      9,2,1,
            0,0,9,     7,1,3,      0,6,0,
            6,0,0,     9,0,2,      3,0,0,

            0,9,0,     0,4,7,      5,0,6,
            4,0,7,     2,3,5,      0,9,8,
            3,8,0,     1,0,0,      0,4,2
        },
        {
            0,0,9,     0,0,5,      0,1,0,
            0,8,5,     1,0,0,      3,4,0,
            0,0,7,     0,4,2,      0,0,8,

            0,5,0,     0,2,1,      8,6,0,
            0,0,6,     5,0,0,      2,0,0,
            8,0,0,     0,6,4,      5,9,0,

            0,0,0,     0,5,3,      0,0,0,
            4,0,0,     8,7,6,      1,3,5,
            0,0,0,     0,1,0,      0,0,0
        },
        {
            0,0,0,     4,6,0,      0,7,1,
            7,0,0,     0,1,8,      0,0,0,
            0,0,6,     0,7,0,      0,0,0,
                                    
            0,0,0,     0,4,0,      7,3,0,
            0,8,0,     0,0,0,      2,4,0,
            4,2,0,     0,0,9,      0,0,0,
                                    
            0,6,8,     0,9,0,      0,0,4,
            0,0,5,     6,0,0,      0,1,0,
            0,0,2,     1,0,0,      0,5,0
        }
    };
    // clang-format on

    for (int i = 0; i < values.size(); i++)
    {
        std::initializer_list<u8>& sudokuInitializer = values[i];
        Sudoku s(sudokuInitializer);

        REQUIRE(s.Solve());
    }
}